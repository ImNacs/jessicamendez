---
/**
 * Figure - Image with caption for MDX content
 * Usage: <Figure src="/images/blog/example.jpg" alt="Description" caption="Figure 1: Example" />
 *
 * Uses project color palette for consistent dark/light theme support
 */
interface Props {
  src: string;
  alt: string;
  caption?: string;
  fullWidth?: boolean;
}

const { src, alt, caption, fullWidth = false } = Astro.props;
---

<figure class:list={[
  'not-prose my-8',
  fullWidth ? 'w-full' : 'max-w-2xl mx-auto'
]}>
  <img
    src={src}
    alt={alt}
    loading="lazy"
    decoding="async"
    class="w-full rounded-xl border border-verde-200/50 dark:border-verde-700/50 shadow-md dark:shadow-lg dark:shadow-black/20"
  />
  {caption && (
    <figcaption class="mt-3 text-center text-sm italic text-gris-500 dark:text-crema-400">
      {caption}
    </figcaption>
  )}
</figure>
