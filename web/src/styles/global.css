@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/typography";

/* Variable Fonts - Optimizado de 7 a 2 archivos */
@import "@fontsource-variable/cormorant";
@import "@fontsource-variable/inter";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Font families - Variable fonts */
  --font-sans: "Inter Variable", ui-sans-serif, system-ui, sans-serif;
  --font-serif: "Cormorant Variable", ui-serif, Georgia, serif;

  /* ============================================
     FLUID TYPOGRAPHY - Organic Luxury
     ============================================ */
  --text-hero: clamp(2.25rem, 5vw + 1rem, 4rem);
  --text-section: clamp(1.75rem, 3vw + 0.5rem, 2.75rem);
  --text-card: clamp(1.25rem, 2vw + 0.25rem, 1.5rem);
  --text-body: clamp(1rem, 1vw + 0.5rem, 1.125rem);
  --text-caption: clamp(0.75rem, 0.5vw + 0.5rem, 0.875rem);

  /* Letter spacing */
  --tracking-tighter: -0.03em;
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;

  /* ============================================
     PALETA DE COLORES - Organic Luxury
     ============================================ */

  /* Verde Bosque - Primary */
  --color-verde-50: #f4f7f4;
  --color-verde-100: #e6ebe6;
  --color-verde-200: #cdd8cd;
  --color-verde-300: #a8bda8;
  --color-verde-400: #7d9b7d;
  --color-verde-500: #5b7c5b;
  --color-verde-600: #496349;
  --color-verde-700: #3c503c;
  --color-verde-800: #334233;
  --color-verde-900: #2b372b;
  --color-verde-950: #1a221a;

  /* Rosa Terracota - Accent */
  --color-rosa-50: #fdf8f7;
  --color-rosa-100: #f9f0ee;
  --color-rosa-200: #f2ddd8;
  --color-rosa-300: #e6c4bc;
  --color-rosa-400: #d4a598;
  --color-rosa-500: #c4958a;
  --color-rosa-600: #b07a6c;
  --color-rosa-700: #936558;
  --color-rosa-800: #7a544a;
  --color-rosa-900: #664840;

  /* Crema/Beige - Backgrounds */
  --color-crema-50: #fefdfb;
  --color-crema-100: #faf8f5;
  --color-crema-200: #f5f1eb;
  --color-crema-300: #ede6dc;
  --color-crema-400: #e2d7c9;

  /* Stone - Neutrals */
  --color-stone-50: #fafaf9;
  --color-stone-100: #f5f5f4;
  --color-stone-200: #e7e5e4;
  --color-stone-300: #d6d3d1;
  --color-stone-400: #a8a29e;
  --color-stone-500: #78716c;
  --color-stone-600: #57534e;
  --color-stone-700: #44403c;
  --color-stone-800: #292524;
  --color-stone-900: #1c1917;

  /* Gris - Textos (legacy) */
  --color-gris-50: #f9fafb;
  --color-gris-100: #f3f4f6;
  --color-gris-200: #e5e7eb;
  --color-gris-300: #d1d5db;
  --color-gris-400: #9ca3af;
  --color-gris-500: #6b7280;
  --color-gris-600: #4b5563;
  --color-gris-700: #374151;
  --color-gris-800: #1f2937;
  --color-gris-900: #333333;

  /* Radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);

  /* Section Spacing */
  --section-y: clamp(4rem, 8vw, 6rem);
  --section-x: clamp(1rem, 5vw, 2rem);

  /* shadcn mappings */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
}

:root {
  --radius: 0.625rem;
  --background: #fefdfb;
  --foreground: #333333;
  --card: #ffffff;
  --card-foreground: #333333;
  --popover: #ffffff;
  --popover-foreground: #333333;
  --primary: #496349;
  --primary-foreground: #ffffff;
  --secondary: #fdf8f7;
  --secondary-foreground: #333333;
  --muted: #f5f1eb;
  --muted-foreground: #6b7280;
  --accent: #c4958a;
  --accent-foreground: #ffffff;
  --destructive: #dc2626;
  --border: #ede6dc;
  --input: #ede6dc;
  --ring: #c4958a;
}

.dark {
  --background: #151a15;
  --foreground: #f5f1eb;
  --card: #1c231c;
  --card-foreground: #f5f1eb;
  --popover: #222922;
  --popover-foreground: #f5f1eb;
  --primary: #8fb08f;
  --primary-foreground: #151a15;
  --secondary: #2b372b;
  --secondary-foreground: #e6ebe6;
  --muted: #2a2725;
  --muted-foreground: #a8a299;
  --accent: #d4a598;
  --accent-foreground: #151a15;
  --destructive: #e85c5c;
  --border: #3a4339;
  --input: #3a4339;
  --ring: #c4958a;
}

/* ============================================
   BASE STYLES
   ============================================ */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-size: 16px;
    line-height: 1.65;
  }

  /* Typographic scale */
  h1, .h1 {
    @apply font-serif;
    font-size: var(--text-hero);
    font-weight: 500;
    letter-spacing: var(--tracking-tight);
    line-height: 1.1;
  }

  h2, .h2 {
    @apply font-serif;
    font-size: var(--text-section);
    font-weight: 500;
    letter-spacing: var(--tracking-tight);
    line-height: 1.2;
  }

  h3, .h3 {
    @apply font-serif;
    font-size: var(--text-card);
    font-weight: 500;
    letter-spacing: -0.01em;
    line-height: 1.3;
  }

  h4, .h4 {
    @apply font-serif;
    font-weight: 500;
    letter-spacing: 0;
    line-height: 1.4;
  }

  h5, h6, .h5, .h6 {
    @apply font-sans;
    font-weight: 600;
    letter-spacing: var(--tracking-wider);
    line-height: 1.4;
    text-transform: uppercase;
    font-size: var(--text-caption);
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

/* Focus visible - keyboard only */
*:focus-visible {
  outline: 2px solid var(--color-rosa-500);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Remove default focus for mouse users */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Skip link for screen readers */
.skip-link {
  position: absolute;
  top: -100%;
  left: 1rem;
  background: var(--color-verde-600);
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 0 0 0.5rem 0.5rem;
  z-index: 9999;
  transition: top 0.3s ease;
  font-weight: 500;
}

.skip-link:focus {
  top: 0;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ============================================
   ANIMATIONS - Organic Luxury
   ============================================ */

/* View Transition animations (shared by all layouts) */
@keyframes fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Entrance animations */
@keyframes reveal-up {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes reveal-scale {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes reveal-blur {
  from {
    opacity: 0;
    filter: blur(8px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

/* Legacy animation */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Ambient animations - subtle */
@keyframes breathe {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.6; }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Animation classes */
.animate-reveal-up {
  animation: reveal-up 0.5s ease-out forwards;
  opacity: 0;
}

.animate-reveal-scale {
  animation: reveal-scale 0.4s ease-out forwards;
  opacity: 0;
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
  opacity: 0; /* Prevent flash before animation */
}

.animate-breathe {
  animation: breathe 8s ease-in-out infinite;
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* Stagger delays */
.stagger-1 { animation-delay: 50ms; }
.stagger-2 { animation-delay: 100ms; }
.stagger-3 { animation-delay: 150ms; }
.stagger-4 { animation-delay: 200ms; }
.stagger-5 { animation-delay: 250ms; }
.stagger-6 { animation-delay: 300ms; }
.stagger-7 { animation-delay: 350ms; }
.stagger-8 { animation-delay: 400ms; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .animate-breathe,
  .animate-float,
  .animate-pulse-subtle {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* ============================================
   GRADIENTS & DECORATIVE
   ============================================ */

.bg-gradient-verde {
  background: linear-gradient(135deg, #5b7c5b 0%, #496349 50%, #3c503c 100%);
}

.bg-gradient-rosa {
  background: linear-gradient(135deg, #c4958a 0%, #b07a6c 100%);
}

.bg-gradient-hero {
  background: linear-gradient(135deg, #fefdfb 0%, #f5f1eb 50%, #fdf8f7 100%);
}

/* Dark mode gradients */
.dark .bg-gradient-verde {
  background: linear-gradient(135deg, #3c503c 0%, #2b372b 50%, #1c231c 100%);
}

.dark .bg-gradient-hero {
  background: linear-gradient(135deg, #151a15 0%, #1c231c 50%, #1a1f1a 100%);
}

.bg-gradient-hero-v2 {
  background: linear-gradient(180deg, #fefdfb 0%, #f0ede8 100%);
}

.dark .bg-gradient-hero-v2 {
  background: linear-gradient(180deg, #151a15 0%, #1c231c 100%);
}

/* Organic blobs */
.blob-verde {
  background: radial-gradient(circle, rgba(91, 124, 91, 0.12) 0%, transparent 70%);
}

.blob-rosa {
  background: radial-gradient(circle, rgba(196, 149, 138, 0.12) 0%, transparent 70%);
}

.dark .blob-verde {
  background: radial-gradient(circle, rgba(143, 176, 143, 0.08) 0%, transparent 70%);
}

.dark .blob-rosa {
  background: radial-gradient(circle, rgba(212, 165, 152, 0.08) 0%, transparent 70%);
}

/* ============================================
   INTERACTIVE STATES
   ============================================ */

/* Card hover */
.card-hover {
  @apply transition-all duration-300;
}

.card-hover:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px -12px rgba(73, 99, 73, 0.2);
}

.dark .card-hover:hover {
  box-shadow: 0 12px 40px -12px rgba(143, 176, 143, 0.15);
}

/* Card hover v2 - For blog cards with image scaling */
.card-hover-v2 {
  @apply transition-all duration-300;
}

.card-hover-v2:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px -8px rgba(73, 99, 73, 0.15);
}

.dark .card-hover-v2:hover {
  box-shadow: 0 8px 30px -8px rgba(143, 176, 143, 0.12);
}

/* Link underline animation */
.link-underline {
  position: relative;
}

.link-underline::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: currentColor;
  transition: width 0.3s ease;
}

.link-underline:hover::after {
  width: 100%;
}

/* ============================================
   SCROLLBAR
   ============================================ */

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ============================================
   LOGO
   ============================================ */

.logo-brand {
  font-family: var(--font-serif);
  font-weight: 500;
  letter-spacing: 0.02em;
}

.logo-brand-name {
  font-family: var(--font-serif);
  font-weight: 400;
  letter-spacing: 0.01em;
}

.logo-brand-surname {
  font-family: var(--font-serif);
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* ============================================
   SECTION DIVIDERS
   ============================================ */

.section-divider {
  position: relative;
}

.section-divider::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--color-verde-500), transparent);
}

/* ============================================
   FORM STYLES
   ============================================ */

.form-input {
  @apply w-full px-4 py-3 rounded-lg border-2 transition-all duration-200;
  @apply text-foreground bg-background;
  @apply border-stone-200 hover:border-stone-300;
  @apply focus:border-verde-500 focus:ring-0 focus:outline-none;
}

.dark .form-input {
  @apply border-verde-800 hover:border-verde-700;
  @apply focus:border-verde-500;
}

.form-label {
  @apply block text-sm font-medium text-stone-600 dark:text-stone-400 mb-2;
}

.form-error {
  @apply text-sm text-red-600 dark:text-red-400 mt-1;
}

/* Floating label style */
.form-floating {
  position: relative;
}

.form-floating input,
.form-floating textarea {
  @apply pt-6 pb-2;
}

.form-floating label {
  @apply absolute left-4 top-1/2 -translate-y-1/2 text-stone-500;
  @apply transition-all duration-200 pointer-events-none;
  @apply peer-focus:top-3 peer-focus:text-xs peer-focus:text-verde-600;
}

.form-floating input:not(:placeholder-shown) + label,
.form-floating textarea:not(:placeholder-shown) + label {
  @apply top-3 text-xs;
}
